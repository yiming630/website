# Translation Platform Environment Configuration
# Copy this file to .env and fill in your actual values
# 
# Based on: 服务器部署指南.md

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
NODE_ENV=production

# Application host and ports
HOST=0.0.0.0
API_GATEWAY_PORT=4000
USER_SERVICE_PORT=4001
HEALTH_PORT=8080

# Enable/disable frontend (set to 'false' for API-only deployment)
ENABLE_FRONTEND=true

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================

# Database connection details
DB_HOST=localhost
DB_PORT=5432
DB_NAME=translation_platform
DB_USER=postgres
DB_PASSWORD=your_very_secure_password_here

# Alternative: Full database URL
# DATABASE_URL=postgresql://postgres:your_password@localhost:5432/translation_platform

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret Keys (IMPORTANT: Use strong, unique secrets in production!)
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_minimum_32_characters
JWT_REFRESH_SECRET=your_super_secret_refresh_key_change_this_in_production_minimum_32_characters

# JWT Token Expiration
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Client origin (frontend URL)
CORS_ORIGIN=http://localhost:3000

# For production with domain:
# CORS_ORIGIN=https://your-domain.com

# For multiple origins (comma-separated):
# CORS_ORIGIN=http://localhost:3000,https://your-domain.com

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Redis Configuration (for caching and sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379

# Baidu Cloud Services (for file storage)
BAIDU_ACCESS_KEY=your_baidu_access_key
BAIDU_SECRET_KEY=your_baidu_secret_key
BAIDU_BOS_ENDPOINT=bj.bcebos.com
BAIDU_BOS_BUCKET=your_bucket_name

# OpenRouter AI Configuration (for translation services)
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_MODEL=google/gemini-pro
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
SITE_URL=http://localhost:3000
SITE_NAME=Translation Platform

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# =============================================================================
# LOCAL STORAGE CONFIGURATION
# =============================================================================

# Local file storage root directory
# Windows: C:/data/seekhub/storage
# Linux: /data/seekhub/storage
LOCAL_STORAGE_ROOT=/data/seekhub/storage

# Public URL base for file access
PUBLIC_URL_BASE=http://localhost:4000/files

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# Maximum file size in bytes (100MB default)
MAX_FILE_SIZE=104857600

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=pdf,docx,doc,txt,rtf,html,htm

# Temporary files directory
TEMP_FILES_DIR=/tmp/seekhub

# Output directory for processed documents
DOCX_OUTPUT_DIR=/data/seekhub/output

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log file path
LOG_FILE=logs/app.log

# Enable metrics collection
ENABLE_METRICS=true
METRICS_PORT=9090

# =============================================================================
# SSL/HTTPS CONFIGURATION (for production)
# =============================================================================

# Enable HTTPS
ENABLE_HTTPS=false

# SSL certificate paths (when using HTTPS)
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================

# Server specific settings
SERVER_NAME=translation-platform
ADMIN_EMAIL=admin@your-domain.com

# Backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================================================
# TRANSLATION SERVICE CONFIGURATION
# =============================================================================

# Translation service endpoint
TRANSLATION_SERVICE_URL=http://localhost:8000

# Translation timeout (milliseconds)
TRANSLATION_TIMEOUT=300000

# Maximum concurrent translations
MAX_CONCURRENT_TRANSLATIONS=5

# Enable translation cache
ENABLE_TRANSLATION_CACHE=true

# Document processing service
PDF_PROCESSOR_URL=http://localhost:8001

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# Enable debug mode (development only)
DEBUG=false

# Hot reload (development only)
ENABLE_HOT_RELOAD=false

# Enable Swagger UI documentation
ENABLE_SWAGGER_UI=false
SWAGGER_UI_PATH=/api-docs

# Mock services for testing
USE_MOCK_TRANSLATION=false
USE_MOCK_STORAGE=false
USE_MOCK_DATABASE=false