# SeekHub Backend é¡¹ç›®ç»“æ„æ–‡æ¡£

## ğŸ“ å®Œæ•´ç›®å½•ç»“æ„

```
backend/
â”œâ”€â”€ ğŸ“ bin/                          # å¯æ‰§è¡Œè„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ enhanced_gui_monitor_new.py  # æ–°ç‰ˆGUIç›‘æ§ç•Œé¢
â”‚   â”œâ”€â”€ gui_monitor.py              # å¤‡ç”¨GUIç›‘æ§
â”‚   â””â”€â”€ quick_start.py              # å¿«é€Ÿå¯åŠ¨è„šæœ¬ â­
â”œâ”€â”€ ğŸ“ config/                       # é…ç½®ç®¡ç†ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ credentials/              # è®¤è¯å‡­è¯
â”‚   â”‚   â””â”€â”€ seekhub-demo-*.json     # Google Cloudå‡­è¯
â”‚   â”œâ”€â”€ ğŸ“ environments/            # ç¯å¢ƒç‰¹å®šé…ç½®
â”‚   â”œâ”€â”€ ğŸ“ templates/               # é…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ config.yaml            # YAMLé…ç½®æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ env.template           # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â”œâ”€â”€ config.yaml                # å½“å‰é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ env.template               # å½“å‰ç¯å¢ƒæ¨¡æ¿
â”œâ”€â”€ ğŸ“ data/                        # æ•°æ®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ samples/                 # ç¤ºä¾‹æ•°æ®
â”‚   â”‚   â””â”€â”€ sample_book.json       # ç¤ºä¾‹å›¾ä¹¦æ•°æ®
â”‚   â””â”€â”€ ğŸ“ templates/               # æ•°æ®æ¨¡æ¿
â”œâ”€â”€ ğŸ“ deployment/                  # éƒ¨ç½²é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ docker/                  # Dockeréƒ¨ç½²
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml     # Docker Composeé…ç½®
â”‚   â”‚   â””â”€â”€ Dockerfile             # Dockeré•œåƒé…ç½®
â”‚   â””â”€â”€ ğŸ“ kubernetes/              # K8séƒ¨ç½²é…ç½®
â”œâ”€â”€ ğŸ“ docs/                        # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ api/                     # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“ architecture/            # æ¶æ„æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ system_architecture.md # ç³»ç»Ÿæ¶æ„è¯´æ˜
â”‚   â”œâ”€â”€ ğŸ“ guides/                  # ä½¿ç”¨æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ README_legacy.md       # å†å²ç‰ˆæœ¬æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ README_optimized.md    # ä¼˜åŒ–ç‰ˆä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ ğŸ“ tutorials/               # æ•™ç¨‹æ–‡æ¡£
â”œâ”€â”€ ğŸ“ legacy/                      # å†å²ç‰ˆæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ enhanced_gui_monitor.py    # åŸå§‹GUIç›‘æ§æ–‡ä»¶
â”‚   â”œâ”€â”€ main_original.py           # åŸå§‹ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ process_manager.py         # åŸå§‹è¿›ç¨‹ç®¡ç†å™¨
â”‚   â”œâ”€â”€ README.md                  # åŸå§‹README
â”‚   â””â”€â”€ requirements_original.txt  # åŸå§‹ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ ğŸ“ logs/                        # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ translation_system.log     # ç³»ç»Ÿæ—¥å¿—
â”œâ”€â”€ ğŸ“ scripts/                     # å·¥å…·è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ deploy.sh â­               # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ start_enhanced_gui.sh      # GUIå¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“ src/                         # æºä»£ç ç›®å½• â­
â”‚   â”œâ”€â”€ ğŸ“ common/                  # é€šç”¨å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config_manager.py      # é…ç½®ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ dependencies.py       # ä¾èµ–ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ error_handler.py       # é”™è¯¯å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ health_monitor.py      # å¥åº·ç›‘æ§å™¨
â”‚   â”‚   â””â”€â”€ logger.py              # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ ğŸ“ core/                    # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py              # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ docx_xml_translator.py # DOCXç¿»è¯‘å™¨
â”‚   â”‚   â”œâ”€â”€ exporters.py           # æ ¼å¼å¯¼å‡ºå™¨
â”‚   â”‚   â”œâ”€â”€ firestore_helper.py    # FirestoreåŠ©æ‰‹
â”‚   â”‚   â”œâ”€â”€ gemini_client.py       # Geminiå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ pubsub_queue.py        # æ¶ˆæ¯é˜Ÿåˆ—
â”‚   â”‚   â””â”€â”€ translation_orchestrator.py # ç¿»è¯‘åè°ƒå™¨
â”‚   â”œâ”€â”€ ğŸ“ gui/                     # GUIç•Œé¢æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/          # UIç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py            # åŸºç¡€ç»„ä»¶ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ control_panel.py   # æ§åˆ¶é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ header.py          # å¤´éƒ¨é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ monitor_panel.py   # ç›‘æ§é¢æ¿
â”‚   â”‚   â”‚   â””â”€â”€ status_bar.py      # çŠ¶æ€æ 
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main_window.py         # ä¸»çª—å£
â”‚   â”‚   â””â”€â”€ theme.py               # ä¸»é¢˜é…ç½®
â”‚   â”œâ”€â”€ ğŸ“ monitoring/              # ç›‘æ§æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ process_monitor.py     # è¿›ç¨‹ç›‘æ§
â”‚   â”‚   â””â”€â”€ system_monitor.py      # ç³»ç»Ÿç›‘æ§
â”‚   â”œâ”€â”€ ğŸ“ process_management/      # è¿›ç¨‹ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ worker_manager.py      # å·¥ä½œå™¨ç®¡ç†å™¨
â”‚   â”œâ”€â”€ ğŸ“ workers/                 # å·¥ä½œå™¨å®ç°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ chapter_worker.py      # ç« èŠ‚å·¥ä½œå™¨
â”‚   â”‚   â””â”€â”€ combination_worker.py  # åˆå¹¶å·¥ä½œå™¨
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ ğŸ“ tests/                       # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ fixtures/                # æµ‹è¯•æ•°æ®
â”‚   â”œâ”€â”€ ğŸ“ integration/             # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ ğŸ“ unit/                    # å•å…ƒæµ‹è¯•
â”œâ”€â”€ ğŸ“ tools/                       # å¼€å‘å·¥å…·ç›®å½•
â”‚   â”œâ”€â”€ health_check.py â­         # å¥åº·æ£€æŸ¥å·¥å…·
â”‚   â””â”€â”€ setup_dev.py â­            # å¼€å‘ç¯å¢ƒè®¾ç½®å·¥å…·
â”œâ”€â”€ .env                           # ç¯å¢ƒå˜é‡æ–‡ä»¶
â”œâ”€â”€ main.py â­                     # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ README.md â­                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ requirements.txt â­            # ä¾èµ–åˆ—è¡¨
```

## ğŸ—‚ï¸ ç›®å½•è¯´æ˜

### æ ¸å¿ƒç›®å½• (â­ æ ‡è®°)

#### 1. `bin/` - å¯æ‰§è¡Œè„šæœ¬
- **ç”¨é€”**: å­˜æ”¾æ‰€æœ‰å¯æ‰§è¡Œçš„å¯åŠ¨è„šæœ¬
- **é‡è¦æ–‡ä»¶**: `quick_start.py` - ç»Ÿä¸€å…¥å£è„šæœ¬
- **ä½¿ç”¨**: `python bin/quick_start.py gui`

#### 2. `src/` - æºä»£ç 
- **æ¶æ„**: åˆ†å±‚æ¨¡å—åŒ–è®¾è®¡
- **common/**: å¯å¤ç”¨çš„åŸºç¡€ç»„ä»¶
- **core/**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- **gui/**: å›¾å½¢ç•Œé¢ç»„ä»¶
- **monitoring/**: ç›‘æ§åŠŸèƒ½
- **process_management/**: è¿›ç¨‹ç®¡ç†
- **workers/**: å·¥ä½œå™¨å®ç°

#### 3. `main.py` - ä¸»ç¨‹åº
- **åŠŸèƒ½**: ç³»ç»Ÿä¸»å…¥å£ï¼Œæ”¯æŒå‘½ä»¤è¡Œå‚æ•°
- **æ¨¡å¼**: CLIã€GUIã€æœåŠ¡æ¨¡å¼

#### 4. `tools/` - å¼€å‘å·¥å…·
- **setup_dev.py**: ä¸€é”®è®¾ç½®å¼€å‘ç¯å¢ƒ
- **health_check.py**: ç³»ç»Ÿå¥åº·æ£€æŸ¥

### é…ç½®ç®¡ç†

#### 1. `config/` - é…ç½®æ–‡ä»¶é›†ä¸­ç®¡ç†
```
config/
â”œâ”€â”€ templates/      # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ environments/   # ç¯å¢ƒç‰¹å®šé…ç½®
â””â”€â”€ credentials/    # è®¤è¯å‡­è¯
```

#### 2. é…ç½®ä¼˜å…ˆçº§
1. ç¯å¢ƒå˜é‡ (æœ€é«˜)
2. YAMLé…ç½®æ–‡ä»¶
3. ä»£ç é»˜è®¤å€¼ (æœ€ä½)

### éƒ¨ç½²æ”¯æŒ

#### 1. `deployment/` - éƒ¨ç½²é…ç½®
- **docker/**: Dockerå®¹å™¨åŒ–éƒ¨ç½²
- **kubernetes/**: K8sé›†ç¾¤éƒ¨ç½²

#### 2. `scripts/` - éƒ¨ç½²è„šæœ¬
- **deploy.sh**: å¤šç¯å¢ƒéƒ¨ç½²è„šæœ¬
- **start_enhanced_gui.sh**: GUIå¯åŠ¨è„šæœ¬

### æ–‡æ¡£ä½“ç³»

#### 1. `docs/` - å®Œæ•´æ–‡æ¡£
- **guides/**: ä½¿ç”¨æŒ‡å—
- **api/**: APIæ–‡æ¡£
- **architecture/**: æ¶æ„è®¾è®¡
- **tutorials/**: æ•™ç¨‹æ–‡æ¡£

#### 2. ä¸»è¦æ–‡æ¡£
- `README.md`: é¡¹ç›®æ¦‚è§ˆ
- `docs/guides/README_optimized.md`: è¯¦ç»†ä½¿ç”¨æŒ‡å—
- `docs/architecture/system_architecture.md`: ç³»ç»Ÿæ¶æ„

### æ•°æ®ç®¡ç†

#### 1. `data/` - æ•°æ®æ–‡ä»¶
- **samples/**: ç¤ºä¾‹æ•°æ®ï¼Œç”¨äºæµ‹è¯•
- **templates/**: æ•°æ®ç»“æ„æ¨¡æ¿

#### 2. `logs/` - æ—¥å¿—æ–‡ä»¶
- æ”¯æŒæ—¥å¿—è½®è½¬
- ç»“æ„åŒ–æ—¥å¿—æ ¼å¼

### å†å²ç‰ˆæœ¬

#### 1. `legacy/` - å†å²æ–‡ä»¶
- ä¿ç•™åŸå§‹ç‰ˆæœ¬ç”¨äºå‚è€ƒ
- ä¸å½±å“æ–°ç³»ç»Ÿè¿è¡Œ

## ğŸš€ å¿«é€Ÿä½¿ç”¨æŒ‡å—

### 1. å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
python tools/setup_dev.py
```

### 2. å¯åŠ¨ç³»ç»Ÿ
```bash
# GUIæ¨¡å¼ (æ¨è)
python bin/quick_start.py gui

# å‘½ä»¤è¡Œæ¨¡å¼
python bin/quick_start.py cli

# æœåŠ¡æ¨¡å¼
python bin/quick_start.py service --workers 4
```

### 3. å¥åº·æ£€æŸ¥
```bash
python tools/health_check.py
```

### 4. éƒ¨ç½²
```bash
# æœ¬åœ°éƒ¨ç½²
./scripts/deploy.sh local

# Dockeréƒ¨ç½²
./scripts/deploy.sh docker
```

## ğŸ“Š æ¶æ„ç‰¹æ€§

### 1. æ¨¡å—åŒ–è®¾è®¡
- **è§£è€¦åˆ**: æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€
- **å¯å¤ç”¨**: é€šç”¨ç»„ä»¶å¯åœ¨å¤šå¤„ä½¿ç”¨
- **å¯æµ‹è¯•**: ä¾¿äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

### 2. é…ç½®ç®¡ç†
- **åˆ†ç¦»**: é…ç½®ä¸ä»£ç åˆ†ç¦»
- **åˆ†å±‚**: æ”¯æŒå¤šç§é…ç½®æº
- **ç¯å¢ƒ**: æ”¯æŒå¤šç¯å¢ƒé…ç½®

### 3. ç›‘æ§ä½“ç³»
- **å®æ—¶ç›‘æ§**: ç³»ç»Ÿæ€§èƒ½å®æ—¶è·Ÿè¸ª
- **å¥åº·æ£€æŸ¥**: è‡ªåŠ¨æœåŠ¡çŠ¶æ€æ£€æµ‹
- **å‘Šè­¦æœºåˆ¶**: å¼‚å¸¸æƒ…å†µåŠæ—¶é€šçŸ¥

### 4. éƒ¨ç½²æ”¯æŒ
- **å¤šç¯å¢ƒ**: æœ¬åœ°ã€Dockerã€äº‘ç«¯éƒ¨ç½²
- **è‡ªåŠ¨åŒ–**: è„šæœ¬åŒ–éƒ¨ç½²æµç¨‹
- **å®¹å™¨åŒ–**: Dockeræ ‡å‡†åŒ–éƒ¨ç½²

## ğŸ“ˆ ä¼˜åŒ–æˆæœ

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹è¿› |
|------|--------|--------|------|
| ä»£ç ç»„ç»‡ | å•æ–‡ä»¶44KB | æ¨¡å—åŒ–33ä¸ªç›®å½• | **ç»“æ„åŒ–** |
| å¯åŠ¨æ–¹å¼ | 1ç§ | 3ç§æ¨¡å¼ | **3å€é€‰æ‹©** |
| é…ç½®ç®¡ç† | ç¡¬ç¼–ç  | å¤šå±‚é…ç½® | **çµæ´»åŒ–** |
| éƒ¨ç½²æ”¯æŒ | æ‰‹åŠ¨ | è‡ªåŠ¨åŒ–è„šæœ¬ | **è‡ªåŠ¨åŒ–** |
| æ–‡æ¡£å®Œæ•´æ€§ | åŸºç¡€ | å…¨é¢æ–‡æ¡£ä½“ç³» | **å®Œå–„** |
| å¼€å‘æ•ˆç‡ | ä½ | å·¥å…·åŒ–æ”¯æŒ | **é«˜æ•ˆ** |

---

*æ­¤æ–‡æ¡£åæ˜ äº†backendæ–‡ä»¶å¤¹é‡æ–°ç»„ç»‡åçš„æœ€ç»ˆç»“æ„* 